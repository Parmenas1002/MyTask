<div class="container-fluid pt-5 pb-2" id='intro'>
    <div class="row justify-content-center align-content-center text-center">
        <div class="col-md-5">
            <h1>Admin Interface</h1>
            <p class="mt-4 mb-4"> Manage all users here. With this page you can have a global view of your application users. You can delete, edit user profile like you want</p>                        
            <p><%= link_to "See your tags Here", admin_tags_path, class: "btn btn-primary text-white" %></p>
        </div>
    </div>
</div>

<div class="d-block pl-3 mt-3">
    <p><%= link_to "New User", new_admin_user_path, class: "btn btn-primary new_btn text-white" %></p>
</div>
<div class="container-fluid mt-2 mb-3">
    <div class="row justify-content-center align-content-center">
        <div class="col-md-12">
            <table class="table table-sm">
                <thead>
                    <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Email</th>                   
                    <th scope="col">Registered Date</th>
                    <th scope="col">Rule</th>
                    <th scope="col">Tasks Number</th>                    
                    </tr>
                </thead>
                <tbody>
                    <% if @users.count > 0%>
                        <% @users.each do |user| %>
                            <tr>
                                <th scope="row" class="task_row"><%=user.name%></th>
                                <td><%=user.email%></td>
                                <td><%=user.created_at%></td>
                                <td><%= user.admin ? "Admin" : "General User" %></td>
                                <td><%=user.tasks.count %></td>
                                <td><%= link_to 'Show' , admin_user_path(user.id), class: "show-link"  %></td>
                                <td><%= link_to 'Edit' , edit_admin_user_path(user.id), class: "edit-link"  %></td>
                                <td><%= link_to 'Delete' ,admin_user_path(user.id), method: :delete , data: { confirm: 'Are you sure to delete this user'}, class:"delete-link" %></td>
                            </tr>
                        <%end%>       
                    <%end%>   
                </tbody>
            </table>
            <% if @users.count == 0 %>                   
                <p class="text-center font-weight-bold"> Nothing to show yet.</p>
                <p class="text-center"> If you don't have any user, please create your first task</p>
                <div class="d-block text-center">
                    <p><%= link_to "Create First Task", new_admin_user_path, class: "btn btn-primary text-white" %></p>
                </div>
            <%end%>  
                                   
        </div>
    </div>
</div>

